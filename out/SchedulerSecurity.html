<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: SchedulerSecurity</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: SchedulerSecurity</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>SchedulerSecurity<span class="signature">(inputFile)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Class that manages client requests to submit a job to the Sun Grid Engine
(SGE).<br><br>

Job can either be SINGLE or ARRAY. SINGLE jobs consist of a single task,
while ARRAY jobs feature multiple ones.<br>
Job submission and handling is bound by the following constraints:<br>
 - maximum number of requests per user per time unit<br>
 - maximum number of requests per time unit for all users<br>
 - blacklisted and whitelisted users<br>
 - maximum number of concurrent jobs (in any state)<br>
 - maximum allotted runtime, after which the job is forcibly terminated.<br>
<br>
There are two kinds of time limits: the "queued" time limit, which dictates
how long a job can be in a non-RUNNING state, and the "running" time limit,
used to restrict the time spent in a RUNNING state by a job. SINGLE and ARRAY
jobs time limit pairs are different (i.e. the 'queued' and/or 'running' time
limit of a SINGLE job can be different than those of a RUNNING job).<br>
These constraints are configured in the input.json file, to be placed in the
root of the project directory (temporary arrangement).<br><br>

INSTANTIATION:<br>
The class constructor is called automatically and the input file, whose path
is passed to the constructor, is read in order to configure the class
parameters. Said file is then read every time a request is received by the
server (provided the last read happened a long enough time ago), so dynamic
configuration of input parameters is supported. Refer to the sample file and
the constructor comments for further details regarding the input parameters.
<br><br>
USAGE:<br>
This class is meant to be accessed by the outside via the
<a href="SchedulerSecurity.html#handleRequest">handleRequest</a> method, which returns
a promise.<br> Said method proceeds to verify whether any of the
aforementioned constraints are violated. If they are not, this method calls
the <a href="SchedulerSecurity.html#handleJobSubmission">handleJobSubmission</a> method
which attempts to submit the job to the SGE. <a href="SchedulerSecurity.html#handleRequest">handleRequest</a> returns a promise which eventually resolves
into a <a href="global.html#requestOutcome">requestOutcome</a> object containing several information regarding
the outcome of the request.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="SchedulerSecurity"><span class="type-signature"></span>new SchedulerSecurity<span class="signature">(inputFile)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Reads the input parameters from the specified file and initializes class
variables to these values. If the file cannot be found or not all
parameters are specified within it, the missing parameters are initialized
to default values.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>inputFile</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the path of the file with the input parameters.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line65">line 65</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="globalListPath_"><span class="type-signature"></span>globalListPath_<span class="type-signature"> :string</span></h4>




<div class="description">
    Path of the global black/whitelist file.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>''</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line876">line 876</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="inputFile_"><span class="type-signature"></span>inputFile_<span class="type-signature"> :string</span></h4>




<div class="description">
    The path of the file from which to read the input parameters.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line77">line 77</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="inputParams_"><span class="type-signature"></span>inputParams_<span class="type-signature"> :Object</span></h4>




<div class="description">
    Helper object to initialize class variables to their default values when
the constructor is called. Said variables are then updated to their
respective values specified in the <a href="SchedulerSecurity.html#inputFile_">input file</a> via
<a href="SchedulerSecurity.html#updateInputParameters">updateInputParameters</a>.
This "preemptive" initialization is necessary since this class is
instantiated only once and the class variables are periodically updated
during runtime via <a href="SchedulerSecurity.html#updateInputParameters">updateInputParameters</a>.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line138">line 138</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="jobPollingInterval_"><span class="type-signature"></span>jobPollingInterval_<span class="type-signature"> :number</span></h4>




<div class="description">
    Time (in ms) interval between two consecutive job history polls.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>1000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line893">line 893</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="lastInputFileUpdate_"><span class="type-signature"></span>lastInputFileUpdate_<span class="type-signature"> :number</span></h4>




<div class="description">
    Time (in ms) of the last input file read.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>0</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line887">line 887</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="listPollingInterval_"><span class="type-signature"></span>listPollingInterval_<span class="type-signature"> :number</span></h4>




<div class="description">
    Time (in ms) interval between two consecutive black/whitelist file
reads.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>1000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line906">line 906</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="localListPath_"><span class="type-signature"></span>localListPath_<span class="type-signature"> :string</span></h4>




<div class="description">
    Path of the local black/whitelist file.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>''</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line871">line 871</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="maxArrayJobQueuedTime_"><span class="type-signature"></span>maxArrayJobQueuedTime_<span class="type-signature"> :number</span></h4>




<div class="description">
    Time (in ms) after which an array job whose first task is QUEUED can
be forcibly stopped.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>10000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line865">line 865</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="maxArrayJobRunningTime_"><span class="type-signature"></span>maxArrayJobRunningTime_<span class="type-signature"> :number</span></h4>




<div class="description">
    Time (in ms) after which an array job whose first task is RUNNING can
be forcibly stopped.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>10000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line858">line 858</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="maxConcurrentJobs_"><span class="type-signature"></span>maxConcurrentJobs_<span class="type-signature"> :number</span></h4>




<div class="description">
    Maximum number of concurrent jobs (either RUNNING, QUEUED, ON_HOLD...).
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>1</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line841">line 841</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="maxJobQueuedTime_"><span class="type-signature"></span>maxJobQueuedTime_<span class="type-signature"> :number</span></h4>




<div class="description">
    Time (in ms) after which a QUEUED job can be forcibly stopped.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>10000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line852">line 852</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="maxJobRunningTime_"><span class="type-signature"></span>maxJobRunningTime_<span class="type-signature"> :number</span></h4>




<div class="description">
    Time (in ms) after which a RUNNING job can be forcibly stopped.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>10000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line846">line 846</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="maxRequestsPerSecGlobal_"><span class="type-signature"></span>maxRequestsPerSecGlobal_<span class="type-signature"> :number</span></h4>




<div class="description">
    Max number of requests per user per time unit (<a href="SchedulerSecurity.html#requestLifespan_">requestLifespan</a>) for all users.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>4</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line824">line 824</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="maxRequestsPerSecUser_"><span class="type-signature"></span>maxRequestsPerSecUser_<span class="type-signature"> :number</span></h4>




<div class="description">
    Max number of requests per user per time unit (<a href="SchedulerSecurity.html#requestLifespan_">requestLifespan</a>) for a single users.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>2</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line818">line 818</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="minimumInputUpdateInterval_"><span class="type-signature"></span>minimumInputUpdateInterval_<span class="type-signature"> :number</span></h4>




<div class="description">
    Minimum time (in ms) between two consecutive input file reads.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>5000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line881">line 881</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="requestLifespan_"><span class="type-signature"></span>requestLifespan_<span class="type-signature"> :number</span></h4>




<div class="description">
    Time (in ms) after which a request can be removed from history.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>5000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line836">line 836</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="sessionName_"><span class="type-signature"></span>sessionName_<span class="type-signature"> :string</span></h4>




<div class="description">
    Name of the Drmaa session.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>session</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line913">line 913</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="userLifespan_"><span class="type-signature"></span>userLifespan_<span class="type-signature"> :number</span></h4>




<div class="description">
    Maximum time (in ms) allowed to pass after the most recent request
of a user before the user is removed from history.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>100000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line831">line 831</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="userPollingInterval_"><span class="type-signature"></span>userPollingInterval_<span class="type-signature"> :number</span></h4>




<div class="description">
    Time (in ms) interval between two consecutive user history polls.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>1000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line899">line 899</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="checkArrayParams"><span class="type-signature"></span>checkArrayParams<span class="signature">(start, end, increment)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Verifies if the start, end and increment parameters for an array job are
valid.
If there are no logical errors but the sum of the start and increment
parameters is bigger than the end parameter, the job is classified as
<a href="global.html#JOBTYPE">JOBTYPE</a>.SINGLE.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>start</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The index of the first task.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>end</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The index of the last task.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>increment</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The index increment.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line726">line 726</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <a href="global.html#JOBTYPE">JOBTYPE</a>.SINGLE if the check fails, <a href="global.html#JOBTYPE">JOBTYPE</a>.ARRAY
otherwise.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="checkGlobalRequests"><span class="type-signature"></span>checkGlobalRequests<span class="signature">(requestData)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Verifies whether the global request-per-time-unit constraint would be
violated by the input request.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#requestData">requestData</a></span>


            
            </td>

            

            

            <td class="description last">Object holding request information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line625">line 625</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if no constraints are violated.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="checkUserRequests"><span class="type-signature"></span>checkUserRequests<span class="signature">(requestData, userIndex)</span><span class="type-signature"> &rarr; {<a href="global.html#requestStatus">requestStatus</a>}</span></h4>
    

    



<div class="description">
    Verifies whether any request-per-time-unit constraints would be violated by
the input request.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#requestData">requestData</a></span>


            
            </td>

            

            

            <td class="description last">Object holding request information.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The users_ array index of the user who
submitted the request.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line554">line 554</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Object storing the result of the checks.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#requestStatus">requestStatus</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findUserIndex"><span class="type-signature"></span>findUserIndex<span class="signature">(userArray, requestData)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Returns the index of the element of the array corresponding to the user who
submitted the input request.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">The array the user who submitted the request is
stored in.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#requestData">requestData</a></span>


            
            </td>

            

            

            <td class="description last">Object holding request information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line707">line 707</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The index of the element corresponding to the user who
submitted the request; -1 if the user is not found.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getJobResult"><span class="type-signature"></span>getJobResult<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Wrapper for the <a href="module-scheduler_monitors.html#.monitorJob">monitorJob</a>
function. Keeps calling said function until the promise resolves or an
error occurs.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line511">line 511</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
   <li>
     <b>Resolve</b> {<a href="module-scheduler_monitors.html#~jobStatusInformation">jobStatusInformation</a>} -
     Object containing several information about the job successfully
     submitted to the SGE.
   </li>
   <li>
     <b>Reject</b> {string} - A brief description of the error.
   </li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="handleJobSubmission"><span class="type-signature"></span>handleJobSubmission<span class="signature">(requestData)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Attempts to submit a job to the SGE.<br><br>

The promise is resolved only if the job could be submitted to the SGE, it
is otherwise rejected.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#requestData">requestData</a></span>


            
            </td>

            

            

            <td class="description last">Object containing request information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line375">line 375</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
   <li>
     <b>Resolve</b> {<a href="global.html#jobDescription">jobDescription</a>} - Object containing several
     information about the job.
   </li>
   <li>
     <b>Reject</b> {string} - A brief description of why the job could not
     be submitted.
   </li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="handleRequest"><span class="type-signature"></span>handleRequest<span class="signature">(requestData)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Handles a job submission request by a user. If no constraints are violated,
the request is accepted and forwarded to the SGE.<br><br>

The promise resolves only if the job could be submitted to the SGE.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#requestData">requestData</a></span>


            
            </td>

            

            

            <td class="description last">Object containing request information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line277">line 277</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
   <li>
     <b>Resolve</b> {<a href="global.html#requestOutcome">requestOutcome</a>} - Object holding information
     regarding the request and the submitted job.
   </li>
   <li>
     <b>Reject</b> {<a href="global.html#requestOutcome">requestOutcome</a>} - Object holding information
     regarding the request. Its jobData field is null.
   </li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isBlacklisted"><span class="type-signature"></span>isBlacklisted<span class="signature">(requestData)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Checks if the user is blacklisted.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#requestData">requestData</a></span>


            
            </td>

            

            

            <td class="description last">Object holding request information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line659">line 659</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if the user is blacklisted.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isWhitelisted"><span class="type-signature"></span>isWhitelisted<span class="signature">(requestData)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Checks if the user is whitelisted.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#requestData">requestData</a></span>


            
            </td>

            

            

            <td class="description last">Object holding request information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line676">line 676</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if the user is whitelisted.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="registerRequestToDatabase"><span class="type-signature"></span>registerRequestToDatabase<span class="signature">(requestData)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Logs a request (ip and timestamp) to database.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#requestData">requestData</a></span>


            
            </td>

            

            

            <td class="description last">Object holding request information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line692">line 692</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="updateInputParameters"><span class="type-signature"></span>updateInputParameters<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Attempts to read the input file and update the input parameters.<br>
Time related parameters are multiplied by 1000 in order to convert seconds
to milliseconds.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line804">line 804</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="updateLists"><span class="type-signature"></span>updateLists<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Attempts to read the local and global black/whitelist files and update the
arrays of the blacklisted and whitelisted users.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line758">line 758</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="updateMonitors"><span class="type-signature"></span>updateMonitors<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Updates the local monitors to check the user history and the local and
global black/whitelist files periodically.
The frequencies of these checks are specified in the input file.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line739">line 739</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="verifyRequest"><span class="type-signature"></span>verifyRequest<span class="signature">(requestData, userIndex)</span><span class="type-signature"> &rarr; {<a href="global.html#requestStatus">requestStatus</a>}</span></h4>
    

    



<div class="description">
    Verifies if a request can be serviced. The result is contained in a <a href="global.html#requestStatus">requestStatus</a> object.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#requestData">requestData</a></span>


            
            </td>

            

            

            <td class="description last">Object holding request information.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The corresponding index of the users_ array of
the user
submitting the request.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scheduler_scheduler-manager.js.html">scheduler/scheduler-manager.js</a>, <a href="scheduler_scheduler-manager.js.html#line531">line 531</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    status - Object storing the result of the checks.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#requestStatus">requestStatus</a></span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-nDrmaaExceptions.html">nDrmaaExceptions</a></li><li><a href="module-scheduler_monitors.html">scheduler/monitors</a></li><li><a href="module-sge-cli.html">sge-cli</a></li></ul><h3>Classes</h3><ul><li><a href="Database.html">Database</a></li><li><a href="Job.html">Job</a></li><li><a href="JobInfo.html">JobInfo</a></li><li><a href="JobInfoImpl.html">JobInfoImpl</a></li><li><a href="JobMonitor.html">JobMonitor</a></li><li><a href="JobTemplate.html">JobTemplate</a></li><li><a href="module-nDrmaaExceptions.AlreadyActiveSessionException.html">AlreadyActiveSessionException</a></li><li><a href="module-nDrmaaExceptions.DrmsInitException.html">DrmsInitException</a></li><li><a href="module-nDrmaaExceptions.ExitTimeoutException.html">ExitTimeoutException</a></li><li><a href="module-nDrmaaExceptions.InvalidArgumentException.html">InvalidArgumentException</a></li><li><a href="module-nDrmaaExceptions.InvalidSessionException.html">InvalidSessionException</a></li><li><a href="module-nDrmaaExceptions.NoActiveSessionException.html">NoActiveSessionException</a></li><li><a href="module-nDrmaaExceptions.UnsupportedAttributeException.html">UnsupportedAttributeException</a></li><li><a href="nDrmaa_Session.html">nDrmaa/Session</a></li><li><a href="SchedulerSecurity.html">SchedulerSecurity</a></li><li><a href="SessionImpl.html">SessionImpl</a></li><li><a href="SessionManager.html">SessionManager</a></li><li><a href="SessionManagerImpl.html">SessionManagerImpl</a></li><li><a href="Version.html">Version</a></li></ul><h3>Events</h3><ul><li><a href="global.html#event:JobCompleted">JobCompleted</a></li><li><a href="global.html#event:JobError">JobError</a></li><li><a href="global.html#event:qstatError">qstatError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#HOLD">HOLD</a></li><li><a href="global.html#JOB_IDS_SESSION_ALL">JOB_IDS_SESSION_ALL</a></li><li><a href="global.html#JOBTYPE">JOBTYPE</a></li><li><a href="global.html#RELEASE">RELEASE</a></li><li><a href="global.html#RESUME">RESUME</a></li><li><a href="global.html#SUSPEND">SUSPEND</a></li><li><a href="global.html#TERMINATE">TERMINATE</a></li><li><a href="global.html#TIMEOUT_WAIT_FOREVER">TIMEOUT_WAIT_FOREVER</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Oct 03 2017 11:20:18 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>